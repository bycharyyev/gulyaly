# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ (SSR)

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

**–û—à–∏–±–∫–∞:** `A tree hydrated but some attributes of server rendered HTML didn't match client properties`  
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `localStorage` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É SSR –∏ –∫–ª–∏–µ–Ω—Ç–æ–º  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É SSR –∏ –∑–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã

---

## üõ†Ô∏è –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Layout.tsx - –°–∫—Ä–∏–ø—Ç —Ç–µ–º—ã
```typescript
// –ë—ã–ª–æ: –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ localStorage
<script dangerouslySetInnerHTML={{
  __html: `
    (function() {
      const savedTheme = localStorage.getItem('theme'); // –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
      // ...
    })();
  `,
}} />

// –°—Ç–∞–ª–æ: —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ—à–∏–±–æ–∫
<script dangerouslySetInnerHTML={{
  __html: `
    (function() {
      try {
        const savedTheme = localStorage.getItem('theme');
        // ...
      } catch (e) {
        // Ignore localStorage errors during SSR
      }
    })();
  `,
}} />
```

### 2. LoadingScreen.tsx - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
```typescript
// –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const [isMounted, setIsMounted] = useState(false);

useEffect(() => {
  setIsMounted(true);
  // ...
}, []);

if (!isMounted || !isLoading) return null;
```

### 3. ThemeToggle.tsx - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ localStorage
```typescript
// –î–æ–±–∞–≤–∏–ª–∏ isMounted –ø—Ä–æ–≤–µ—Ä–∫—É –∏ try-catch
const [isMounted, setIsMounted] = useState(false);

useEffect(() => {
  setIsMounted(true);
  try {
    const savedTheme = localStorage.getItem('theme');
    // ...
  } catch (e) {
    // Ignore localStorage errors during SSR
  }
}, []);

// Fallback –¥–ª—è SSR
if (!isMounted) {
  return (
    <div className="relative inline-flex h-12 w-24 items-center rounded-full bg-gray-200 dark:bg-gray-700">
      <div className="h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600"></div>
    </div>
  );
}
```

---

## üéØ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ó–∞—â–∏—Ç–∞ –æ—Ç SSR –æ—à–∏–±–æ–∫:
1. **try-catch –±–ª–æ–∫–∏** –¥–ª—è localStorage –¥–æ—Å—Ç—É–ø–∞
2. **isMounted –ø—Ä–æ–≤–µ—Ä–∫–∞** –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
3. **suppressHydrationWarning** –¥–ª—è html/body
4. **Fallback UI** –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:
1. **–°–µ—Ä–≤–µ—Ä:** –†–µ–Ω–¥–µ—Ä–∏—Ç –±–∞–∑–æ–≤—ã–π UI –±–µ–∑ localStorage
2. **–°–∫—Ä–∏–ø—Ç:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ React –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
3. **–ö–ª–∏–µ–Ω—Ç:** React –≥–∏–¥—Ä–∏—Ä—É–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
4. **useEffect:** –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:
- **Hydration mismatch** - –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- **localStorage errors** - –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **Theme flickering** - –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- **Console warnings** - –æ—á–∏—â–µ–Ω—ã

### ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è:
- **–ü–ª–∞–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã** - –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—è
- **–ß–∏—Å—Ç–∞—è –∫–æ–Ω—Å–æ–ª—å** - –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- **LoadingScreen** - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
- **ThemeToggle** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- **SSR —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - –±–µ–∑ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- **–ö–æ–Ω—Å–æ–ª—å** - —á–∏—Å—Ç–∞—è –æ—Ç –æ—à–∏–±–æ–∫

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
2. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - —Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
4. **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. **DevTools** - —á–∏—Å—Ç–∞—è –∫–æ–Ω—Å–æ–ª—å

---

## üöÄ –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞–±–∏–ª—å–Ω–æ:
- **SSR:** –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- **Hydration:** –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- **Theme system:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- **Performance:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- **User Experience:** –ü–ª–∞–≤–Ω–∞—è

### üåê –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ:
- **URL:** http://localhost:3000
- **–û—à–∏–±–∫–∏:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û—Ç–ª–∏—á–Ω–∞—è
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ü–æ–ª–Ω–∞—è

---

## üéØ –ò—Ç–æ–≥

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω—ã!**

- ‚úÖ SSR —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ localStorage –¥–æ—Å—Ç—É–ø –±–µ–∑–æ–ø–∞—Å–µ–Ω
- ‚úÖ –¢–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å —á–∏—Å—Ç–∞—è –æ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç —É–ª—É—á—à–µ–Ω

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!**

---

*–°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ SSR/–≥–∏–¥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã*  
*–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~15 –º–∏–Ω—É—Ç*  
*–î–∞—Ç–∞: 22 —è–Ω–≤–∞—Ä—è 2026*
